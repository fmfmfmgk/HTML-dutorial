<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" href="../css/public.css">
<style>
#result1, #result2{
	height : 50px;
}
</style>
<script type="text/javascript">
window.onload = function(){
	res1 = document.getElementById('result1');
	res2 = document.getElementById('result2');
}
proc1 = () =>{
	
	//0~255사이의 랜덤발생
	cr = Math.floor(Math.random()* 256);
	cg = Math.floor(Math.random()* 256);
	cb = Math.floor(Math.random()* 256);
	
	//setTimeout
	setTimeout(function(){
		res1 = document.getElementById('result1')
//		res1.style.backgroundColor = "rgb("+cr+","+cg+","+cb+")"; //rgb(45,199,210)
							    // = `rgb(${cr},${cg},${cb})`;
		cr16 = cr.toString(16);
		cg16 = cr.toString(16);
		cb16 = cr.toString(16);
		res1.style.backgroundColor = "#" + cr16 + cg16 + cb16;
							      // `#${cr16}${cg16}${cb16}`;
	},1000);
}

//방법1
/* proc2 = function(){
	//this = 시작버튼
	this.style.display = "none";
} */
//방법2

proc2 = (but) =>{
	//but = this파라미터를 받은 매개변수, 지역변수
	//함수호출시 this파라미터로 넘긴다.
	but.style.display = "none";
	
	//but변수를 전역변수로 변경 - stop()에서 사용 가능 하도록
	gbut = but;
	
	
	//setInterval
	id = setInterval(function(){
		console.log(id);
		
		//0~255사이의 랜덤발생
		cr = Math.floor(Math.random()* 256);
		cg = Math.floor(Math.random()* 256);
		cb = Math.floor(Math.random()* 256);
		
		res2.style.backgroundColor = `rgb(${cr},${cg},${cb})`;
		
		
	},500);
}
stop = () =>{
	//실행종료
	clearInterval(id);
	
	//시작버튼을 다시 보여주도록 설정
	//but는 지역변수라 쓸 수 없음
	//사용할 수 있도록 전역변수로 변경시켜주어야 함.
	gbut.style.display = "inline";
	
	
}
</script>
</head>
<body>

<div class="box">
<h4></h4>
<input type="button" value="확인" onclick="proc1()">
<br><br>
<div id="result1"></div>
</div>

<div class="box">
<h4></h4>
<input type="button" value="시작" onclick="proc2(this)">
<input type="button" value="종료" onclick="stop()">
<br><br>
<div id="result2"></div>
</div>

</body>
</html>